#!/usr/bin/env node
import{R as e,C as t,T as r,c as n}from"./index.js";import{d as o,i,a as s}from"./isColorShade.js";import l from"fs";import u,{resolve as c}from"path";import{pathToFileURL as f}from"url";import"node:process";import"node:os";import"node:tty";var a="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,y=(a||d||Function("return this")()).Symbol,p=Object.prototype,g=p.hasOwnProperty,m=p.toString,b=y?y.toStringTag:void 0;var $=Object.prototype.toString;var v=y?y.toStringTag:void 0;function S(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":v&&v in Object(e)?function(e){var t=g.call(e,b),r=e[b];try{e[b]=void 0;var n=!0}catch(e){}var o=m.call(e);return n&&(t?e[b]=r:delete e[b]),o}(e):function(e){return $.call(e)}(e)}var h=Array.isArray,j=y?y.prototype:void 0,x=j?j.toString:void 0;function O(e){if("string"==typeof e)return e;if(h(e))return function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(e,O)+"";if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==S(e)}(e))return x?x.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function w(e){return null==e?"":O(e)}function T(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}(e,t,r)}var E=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function F(e){return E.test(e)}var U="\\ud800-\\udfff",A="["+U+"]",N="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",C="\\ud83c[\\udffb-\\udfff]",R="[^"+U+"]",k="(?:\\ud83c[\\udde6-\\uddff]){2}",B="[\\ud800-\\udbff][\\udc00-\\udfff]",J="(?:"+N+"|"+C+")"+"?",D="[\\ufe0e\\ufe0f]?",I=D+J+("(?:\\u200d(?:"+[R,k,B].join("|")+")"+D+J+")*"),L="(?:"+[R+N+"?",N,k,B,A].join("|")+")",H=RegExp(C+"(?="+C+")|"+L+I,"g");function P(e){return F(e)?function(e){return e.match(H)||[]}(e):function(e){return e.split("")}(e)}var z,G=(z="toUpperCase",function(e){var t=F(e=w(e))?P(e):void 0,r=t?t[0]:e.charAt(0),n=t?T(t,1).join(""):e.slice(1);return r[z]()+n});function K(e){return G(w(e).toLowerCase())}const M=e.includes("dist");async function V(){try{const a=u.resolve(t,r),d=(await import(f(a).href)).default,{colors:y}=d,p=o,g=new Set([...Object.keys(o).map((e=>`'${e}'`))]),m=["grey"],b=["text"],$=(e,t)=>{if((i(t)||m.includes(e))&&!b.includes(e))for(const r in t){const n=t[r],o="default"===r?"":K(r),i=K(e);p[`bg${i}${o}`]={backgroundColor:n},p[`border${i}${o}`]={borderColor:n},p[`text${i}${o}`]={color:n},g.add(`'bg${i}${o}'`),g.add(`'border${i}${o}'`),g.add(`'text${i}${o}'`)}};for(const e in y){$(e,y[e])}const v=10;for(let e=0;e<=v;e++){const t=s(e,d),r={p:"padding",m:"margin"},n={"":"",t:"Top",r:"Right",b:"Bottom",l:"Left",x:"Horizontal",y:"Vertical"};for(const[o,i]of Object.entries(r))for(const[r,s]of Object.entries(n)){const n=`${o}${r}-${e}`;p[n]={[`${i}${s}`]:t},g.add(`"${n}"`)}}const S="/**\n* AUTO GENERATED\n* <---DO NOT MODIFY THIS FILE---\x3e\n*/\n\n",h=c("./src/configs/generated/utilities"),j=c("./src/configs/generated/theme"),x=c(h,"utilities.ts"),O=c(h,"types.ts"),w=c(h,"index.ts"),T=`\n    ${S}export * from './types';\nimport utilities from './utilities';\nexport {utilities}\nexport type UtilitiesType = typeof utilities;\n    \n    `,E=c(j,"index.ts");if(M){const t=u.resolve(e,"utilities.js"),r=u.resolve(e,"theme.js");if(!l.existsSync(t)||!l.existsSync(r))throw new Error("Utilities and Theme files not exist.\nPlease contact us!");l.readFile(t,"utf8",((e,r)=>{if(e)return void console.error("Error reading the file:",e);const n=r.replace(/(var utilities =)[\s\S]*?(;)/,`$1 ${JSON.stringify(p,null,4)}$2`);l.writeFile(t,n,"utf8",(e=>{e&&console.error("Error generate utilities:",e)}))})),l.writeFileSync(r,`${S}\nexport const theme = ${JSON.stringify(d,null,2)};\n`)}else l.existsSync(h)||(l.mkdirSync(h,{recursive:!0}),console.log(n.greenBright("Utilities directory created successfully."))),l.existsSync(j)||(l.mkdirSync(j,{recursive:!0}),console.log(n.greenBright("Theme directory created successfully."))),l.writeFileSync(x,`${S}\nexport default ${JSON.stringify(p,null,2)};\n`),l.writeFileSync(O,`${S}export type UtilityKeys = ${[...g].join(" | ")};\n`),l.writeFileSync(w,T,"utf8"),l.writeFileSync(E,`${S}\nexport const theme = ${JSON.stringify(d,null,2)};\n`);console.log(n.greenBright("Theme utilities and types generated successfully!"))}catch(e){console.log(n.red(`Utilitie generator faild! \nError:${e}`))}}V();export{V as generateUtilities};
